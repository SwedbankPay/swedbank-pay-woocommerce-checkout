jQuery(function(e){"use strict";window.sb_helper={init:function(){e(document.body).on("sb_payment_menu_instrument_selected",function(e,o,n){console.log(o),"Invoice"===n?sb_helper.apply_fee():sb_helper.remove_fee()})},apply_fee:function(){return console.log("Apply invoice fee"),sb_helper.block(),e.ajax({type:"POST",url:WC_Gateway_Swedbank_Pay_Checkout_Invoice.ajax_url,data:{action:"sb_invoice_apply_fee",nonce:WC_Gateway_Swedbank_Pay_Checkout_Invoice.nonce},dataType:"json"}).done(function(){sb_helper.unblock(),sb_helper.update_checkout()})},remove_fee:function(){return console.log("Remove invoice fee"),sb_helper.block(),e.ajax({type:"POST",url:WC_Gateway_Swedbank_Pay_Checkout_Invoice.ajax_url,data:{action:"sb_invoice_unset_fee",nonce:WC_Gateway_Swedbank_Pay_Checkout_Invoice.nonce},dataType:"json"}).done(function(){sb_helper.unblock(),sb_helper.update_checkout()})},update_checkout:function(){e(document.body).trigger("update_checkout"),wc_sb_checkout.onUpdatedCheckout()},block:function(){1!==e("form.checkout, form#order_review, form#add_payment_method").data()["blockUI.isBlocked"]&&e("form.checkout, form#order_review, form#add_payment_method").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){e("form.checkout, form#order_review, form#add_payment_method").unblock()}},e(document).ready(function(){window.sb_helper.init()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludm9pY2UtZmVlLmpzIl0sIm5hbWVzIjpbImpRdWVyeSIsIiQiLCJ3aW5kb3ciLCJzYl9oZWxwZXIiLCJpbml0IiwiZG9jdW1lbnQiLCJib2R5Iiwib24iLCJldmVudCIsIm5hbWUiLCJpbnN0cnVtZW50IiwiY29uc29sZSIsImxvZyIsImFwcGx5X2ZlZSIsInJlbW92ZV9mZWUiLCJibG9jayIsImFqYXgiLCJ0eXBlIiwidXJsIiwiV0NfR2F0ZXdheV9Td2VkYmFua19QYXlfQ2hlY2tvdXRfSW52b2ljZSIsImFqYXhfdXJsIiwiZGF0YSIsImFjdGlvbiIsIm5vbmNlIiwiZGF0YVR5cGUiLCJkb25lIiwidW5ibG9jayIsInVwZGF0ZV9jaGVja291dCIsInRyaWdnZXIiLCJ3Y19zYl9jaGVja291dCIsIm9uVXBkYXRlZENoZWNrb3V0IiwibWVzc2FnZSIsIm92ZXJsYXlDU1MiLCJiYWNrZ3JvdW5kIiwib3BhY2l0eSIsInJlYWR5Il0sIm1hcHBpbmdzIjoiQUFDQUEsT0FBTyxTQUFVQyxHQUNiLGFBRUFDLE9BQU9DLFVBQVksQ0FDZkMsS0FBTSxXQUNGSCxFQUFFSSxTQUFTQyxNQUFNQyxHQUFHLHNDQUF1QyxTQUFVQyxFQUFPQyxFQUFNQyxHQUM5RUMsUUFBUUMsSUFBSUgsR0FFTyxZQUFmQyxFQUNBUCxVQUFVVSxZQUVWVixVQUFVVyxnQkFLdEJELFVBQVcsV0FJUCxPQUhBRixRQUFRQyxJQUFJLHFCQUNaVCxVQUFVWSxRQUVIZCxFQUFFZSxLQUFLLENBQ1ZDLEtBQU0sT0FDTkMsSUFBS0MseUNBQXlDQyxTQUM5Q0MsS0FBTSxDQUNGQyxPQUFRLHVCQUNSQyxNQUFPSix5Q0FBeUNJLE9BRXBEQyxTQUFVLFNBQ1hDLEtBQUssV0FDSnRCLFVBQVV1QixVQUNWdkIsVUFBVXdCLHFCQUlsQmIsV0FBWSxXQUlSLE9BSEFILFFBQVFDLElBQUksc0JBQ1pULFVBQVVZLFFBRUhkLEVBQUVlLEtBQUssQ0FDVkMsS0FBTSxPQUNOQyxJQUFLQyx5Q0FBeUNDLFNBQzlDQyxLQUFNLENBQ0ZDLE9BQVEsdUJBQ1JDLE1BQU9KLHlDQUF5Q0ksT0FFcERDLFNBQVUsU0FDWEMsS0FBSyxXQUNKdEIsVUFBVXVCLFVBQ1Z2QixVQUFVd0IscUJBSWxCQSxnQkFBaUIsV0FDYjFCLEVBQUVJLFNBQVNDLE1BQU1zQixRQUFRLG1CQUN6QkMsZUFBZUMscUJBR25CZixNQUFPLFdBRUMsSUFEWWQsRUFBRSw2REFBNkRvQixPQUMzRCxzQkFDaEJwQixFQUFFLDZEQUE2RGMsTUFBTSxDQUNqRWdCLFFBQVMsS0FDVEMsV0FBWSxDQUNSQyxXQUFZLE9BQ1pDLFFBQVMsT0FNekJSLFFBQVMsV0FDTHpCLEVBQUUsNkRBQTZEeUIsWUFJdkV6QixFQUFFSSxVQUFVOEIsTUFBTSxXQUNkakMsT0FBT0MsVUFBVUMiLCJmaWxlIjoiaW52b2ljZS1mZWUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIHdjX2NoZWNrb3V0X3BhcmFtcyAqL1xualF1ZXJ5KGZ1bmN0aW9uICgkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgd2luZG93LnNiX2hlbHBlciA9IHtcbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChkb2N1bWVudC5ib2R5KS5vbignc2JfcGF5bWVudF9tZW51X2luc3RydW1lbnRfc2VsZWN0ZWQnLCBmdW5jdGlvbiAoZXZlbnQsIG5hbWUsIGluc3RydW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuYW1lKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnN0cnVtZW50ID09PSAnSW52b2ljZScpIHtcbiAgICAgICAgICAgICAgICAgICAgc2JfaGVscGVyLmFwcGx5X2ZlZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNiX2hlbHBlci5yZW1vdmVfZmVlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYXBwbHlfZmVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXBwbHkgaW52b2ljZSBmZWUnKTtcbiAgICAgICAgICAgIHNiX2hlbHBlci5ibG9jaygpO1xuXG4gICAgICAgICAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBXQ19HYXRld2F5X1N3ZWRiYW5rX1BheV9DaGVja291dF9JbnZvaWNlLmFqYXhfdXJsLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnc2JfaW52b2ljZV9hcHBseV9mZWUnLFxuICAgICAgICAgICAgICAgICAgICBub25jZTogV0NfR2F0ZXdheV9Td2VkYmFua19QYXlfQ2hlY2tvdXRfSW52b2ljZS5ub25jZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2JfaGVscGVyLnVuYmxvY2soKTtcbiAgICAgICAgICAgICAgICBzYl9oZWxwZXIudXBkYXRlX2NoZWNrb3V0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVfZmVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUmVtb3ZlIGludm9pY2UgZmVlJyk7XG4gICAgICAgICAgICBzYl9oZWxwZXIuYmxvY2soKTtcblxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogV0NfR2F0ZXdheV9Td2VkYmFua19QYXlfQ2hlY2tvdXRfSW52b2ljZS5hamF4X3VybCxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NiX2ludm9pY2VfdW5zZXRfZmVlJyxcbiAgICAgICAgICAgICAgICAgICAgbm9uY2U6IFdDX0dhdGV3YXlfU3dlZGJhbmtfUGF5X0NoZWNrb3V0X0ludm9pY2Uubm9uY2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNiX2hlbHBlci51bmJsb2NrKCk7XG4gICAgICAgICAgICAgICAgc2JfaGVscGVyLnVwZGF0ZV9jaGVja291dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlX2NoZWNrb3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKGRvY3VtZW50LmJvZHkpLnRyaWdnZXIoJ3VwZGF0ZV9jaGVja291dCcpO1xuICAgICAgICAgICAgd2Nfc2JfY2hlY2tvdXQub25VcGRhdGVkQ2hlY2tvdXQoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBibG9jazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGV0IGZvcm1fZGF0YSA9ICQoXCJmb3JtLmNoZWNrb3V0LCBmb3JtI29yZGVyX3JldmlldywgZm9ybSNhZGRfcGF5bWVudF9tZXRob2RcIikuZGF0YSgpO1xuICAgICAgICAgICAgaWYgKDEgIT09IGZvcm1fZGF0YVsnYmxvY2tVSS5pc0Jsb2NrZWQnXSkge1xuICAgICAgICAgICAgICAgICQoXCJmb3JtLmNoZWNrb3V0LCBmb3JtI29yZGVyX3JldmlldywgZm9ybSNhZGRfcGF5bWVudF9tZXRob2RcIikuYmxvY2soe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5Q1NTOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmZicsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjZcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHVuYmxvY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCJmb3JtLmNoZWNrb3V0LCBmb3JtI29yZGVyX3JldmlldywgZm9ybSNhZGRfcGF5bWVudF9tZXRob2RcIikudW5ibG9jaygpO1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdpbmRvdy5zYl9oZWxwZXIuaW5pdCgpO1xuICAgIH0pO1xufSk7XG5cbiJdfQ==
