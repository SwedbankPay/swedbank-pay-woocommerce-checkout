jQuery(function(e){"use strict";window.sb_helper={init:function(){e(document.body).on("sb_payment_menu_instrument_selected",function(e,o,n){console.log(o),"Invoice"===n?sb_helper.apply_fee():sb_helper.remove_fee()})},apply_fee:function(){return console.log("Apply invoice fee"),sb_helper.block(),e.ajax({type:"POST",url:WC_Gateway_Swedbank_Pay_Checkout.ajax_url,data:{action:"sb_invoice_apply_fee",nonce:WC_Gateway_Swedbank_Pay_Checkout.nonce},dataType:"json"}).done(function(){sb_helper.unblock(),sb_helper.update_checkout()})},remove_fee:function(){return console.log("Remove invoice fee"),sb_helper.block(),e.ajax({type:"POST",url:WC_Gateway_Swedbank_Pay_Checkout.ajax_url,data:{action:"sb_invoice_unset_fee",nonce:WC_Gateway_Swedbank_Pay_Checkout.nonce},dataType:"json"}).done(function(){sb_helper.unblock(),sb_helper.update_checkout()})},update_checkout:function(){e(document.body).trigger("update_checkout"),wc_sb_checkout.onUpdatedCheckout()},block:function(){1!==e("form.checkout, form#order_review, form#add_payment_method").data()["blockUI.isBlocked"]&&e("form.checkout, form#order_review, form#add_payment_method").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){e("form.checkout, form#order_review, form#add_payment_method").unblock()}},e(document).ready(function(){window.sb_helper.init()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludm9pY2UtZmVlLmpzIl0sIm5hbWVzIjpbImpRdWVyeSIsIiQiLCJ3aW5kb3ciLCJzYl9oZWxwZXIiLCJpbml0IiwiZG9jdW1lbnQiLCJib2R5Iiwib24iLCJldmVudCIsIm5hbWUiLCJpbnN0cnVtZW50IiwiY29uc29sZSIsImxvZyIsImFwcGx5X2ZlZSIsInJlbW92ZV9mZWUiLCJibG9jayIsImFqYXgiLCJ0eXBlIiwidXJsIiwiV0NfR2F0ZXdheV9Td2VkYmFua19QYXlfQ2hlY2tvdXQiLCJhamF4X3VybCIsImRhdGEiLCJhY3Rpb24iLCJub25jZSIsImRhdGFUeXBlIiwiZG9uZSIsInVuYmxvY2siLCJ1cGRhdGVfY2hlY2tvdXQiLCJ0cmlnZ2VyIiwid2Nfc2JfY2hlY2tvdXQiLCJvblVwZGF0ZWRDaGVja291dCIsIm1lc3NhZ2UiLCJvdmVybGF5Q1NTIiwiYmFja2dyb3VuZCIsIm9wYWNpdHkiLCJyZWFkeSJdLCJtYXBwaW5ncyI6IkFBQ0FBLE9BQU8sU0FBVUMsR0FDYixhQUVBQyxPQUFPQyxVQUFZLENBQ2ZDLEtBQU0sV0FDRkgsRUFBRUksU0FBU0MsTUFBTUMsR0FBRyxzQ0FBdUMsU0FBVUMsRUFBT0MsRUFBTUMsR0FDOUVDLFFBQVFDLElBQUlILEdBRU8sWUFBZkMsRUFDQVAsVUFBVVUsWUFFVlYsVUFBVVcsZ0JBS3RCRCxVQUFXLFdBSVAsT0FIQUYsUUFBUUMsSUFBSSxxQkFDWlQsVUFBVVksUUFFSGQsRUFBRWUsS0FBSyxDQUNWQyxLQUFNLE9BQ05DLElBQUtDLGlDQUFpQ0MsU0FDdENDLEtBQU0sQ0FDRkMsT0FBUSx1QkFDUkMsTUFBT0osaUNBQWlDSSxPQUU1Q0MsU0FBVSxTQUNYQyxLQUFLLFdBQ0p0QixVQUFVdUIsVUFDVnZCLFVBQVV3QixxQkFJbEJiLFdBQVksV0FJUixPQUhBSCxRQUFRQyxJQUFJLHNCQUNaVCxVQUFVWSxRQUVIZCxFQUFFZSxLQUFLLENBQ1ZDLEtBQU0sT0FDTkMsSUFBS0MsaUNBQWlDQyxTQUN0Q0MsS0FBTSxDQUNGQyxPQUFRLHVCQUNSQyxNQUFPSixpQ0FBaUNJLE9BRTVDQyxTQUFVLFNBQ1hDLEtBQUssV0FDSnRCLFVBQVV1QixVQUNWdkIsVUFBVXdCLHFCQUlsQkEsZ0JBQWlCLFdBQ2IxQixFQUFFSSxTQUFTQyxNQUFNc0IsUUFBUSxtQkFDekJDLGVBQWVDLHFCQUduQmYsTUFBTyxXQUVDLElBRFlkLEVBQUUsNkRBQTZEb0IsT0FDM0Qsc0JBQ2hCcEIsRUFBRSw2REFBNkRjLE1BQU0sQ0FDakVnQixRQUFTLEtBQ1RDLFdBQVksQ0FDUkMsV0FBWSxPQUNaQyxRQUFTLE9BTXpCUixRQUFTLFdBQ0x6QixFQUFFLDZEQUE2RHlCLFlBSXZFekIsRUFBRUksVUFBVThCLE1BQU0sV0FDZGpDLE9BQU9DLFVBQVVDIiwiZmlsZSI6Imludm9pY2UtZmVlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCB3Y19jaGVja291dF9wYXJhbXMgKi9cbmpRdWVyeShmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHdpbmRvdy5zYl9oZWxwZXIgPSB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQuYm9keSkub24oJ3NiX3BheW1lbnRfbWVudV9pbnN0cnVtZW50X3NlbGVjdGVkJywgZnVuY3Rpb24gKGV2ZW50LCBuYW1lLCBpbnN0cnVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmFtZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5zdHJ1bWVudCA9PT0gJ0ludm9pY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNiX2hlbHBlci5hcHBseV9mZWUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzYl9oZWxwZXIucmVtb3ZlX2ZlZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFwcGx5X2ZlZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FwcGx5IGludm9pY2UgZmVlJyk7XG4gICAgICAgICAgICBzYl9oZWxwZXIuYmxvY2soKTtcblxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogV0NfR2F0ZXdheV9Td2VkYmFua19QYXlfQ2hlY2tvdXQuYWpheF91cmwsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdzYl9pbnZvaWNlX2FwcGx5X2ZlZScsXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiBXQ19HYXRld2F5X1N3ZWRiYW5rX1BheV9DaGVja291dC5ub25jZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2JfaGVscGVyLnVuYmxvY2soKTtcbiAgICAgICAgICAgICAgICBzYl9oZWxwZXIudXBkYXRlX2NoZWNrb3V0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVfZmVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUmVtb3ZlIGludm9pY2UgZmVlJyk7XG4gICAgICAgICAgICBzYl9oZWxwZXIuYmxvY2soKTtcblxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogV0NfR2F0ZXdheV9Td2VkYmFua19QYXlfQ2hlY2tvdXQuYWpheF91cmwsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdzYl9pbnZvaWNlX3Vuc2V0X2ZlZScsXG4gICAgICAgICAgICAgICAgICAgIG5vbmNlOiBXQ19HYXRld2F5X1N3ZWRiYW5rX1BheV9DaGVja291dC5ub25jZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2JfaGVscGVyLnVuYmxvY2soKTtcbiAgICAgICAgICAgICAgICBzYl9oZWxwZXIudXBkYXRlX2NoZWNrb3V0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVfY2hlY2tvdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoZG9jdW1lbnQuYm9keSkudHJpZ2dlcigndXBkYXRlX2NoZWNrb3V0Jyk7XG4gICAgICAgICAgICB3Y19zYl9jaGVja291dC5vblVwZGF0ZWRDaGVja291dCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGJsb2NrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgZm9ybV9kYXRhID0gJChcImZvcm0uY2hlY2tvdXQsIGZvcm0jb3JkZXJfcmV2aWV3LCBmb3JtI2FkZF9wYXltZW50X21ldGhvZFwiKS5kYXRhKCk7XG4gICAgICAgICAgICBpZiAoMSAhPT0gZm9ybV9kYXRhWydibG9ja1VJLmlzQmxvY2tlZCddKSB7XG4gICAgICAgICAgICAgICAgJChcImZvcm0uY2hlY2tvdXQsIGZvcm0jb3JkZXJfcmV2aWV3LCBmb3JtI2FkZF9wYXltZW50X21ldGhvZFwiKS5ibG9jayh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXlDU1M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuNlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdW5ibG9jazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJChcImZvcm0uY2hlY2tvdXQsIGZvcm0jb3JkZXJfcmV2aWV3LCBmb3JtI2FkZF9wYXltZW50X21ldGhvZFwiKS51bmJsb2NrKCk7XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93LnNiX2hlbHBlci5pbml0KCk7XG4gICAgfSk7XG59KTtcblxuIl19
