jQuery(function(e){"use strict";window.sb_helper={init:function(){e(document.body).on("sb_payment_menu_instrument_selected",function(e,o,n){console.log(o),"Invoice"===n?sb_helper.apply_fee():sb_helper.remove_fee()})},apply_fee:function(){return console.log("Apply invoice fee"),sb_helper.block(),e.ajax({type:"POST",url:WC_Gateway_Swedbank_Pay_Checkout_Invoice.ajax_url,data:{action:"sb_invoice_apply_fee",nonce:WC_Gateway_Swedbank_Pay_Checkout_Invoice.nonce},dataType:"json"}).done(function(){sb_helper.unblock(),sb_helper.update_checkout()})},remove_fee:function(){return console.log("Remove invoice fee"),sb_helper.block(),e.ajax({type:"POST",url:WC_Gateway_Swedbank_Pay_Checkout_Invoice.ajax_url,data:{action:"sb_invoice_unset_fee",nonce:WC_Gateway_Swedbank_Pay_Checkout_Invoice.nonce},dataType:"json"}).done(function(){sb_helper.unblock(),sb_helper.update_checkout()})},update_checkout:function(){e(document.body).trigger("update_checkout"),wc_sb_checkout.onUpdatedCheckout()},block:function(){1!==e("form.checkout, form#order_review, form#add_payment_method").data()["blockUI.isBlocked"]&&e("form.checkout, form#order_review, form#add_payment_method").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){e("form.checkout, form#order_review, form#add_payment_method").unblock()}},e(document).ready(function(){window.sb_helper.init()})});
//# sourceMappingURL=invoice-fee.min.js.map
